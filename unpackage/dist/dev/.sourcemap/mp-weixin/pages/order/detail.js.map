{"version":3,"sources":["uni-app:///main.js","webpack:///D:/project/fuintUniapp/pages/order/detail.vue?d4c5","webpack:///D:/project/fuintUniapp/pages/order/detail.vue?b6e3","webpack:///D:/project/fuintUniapp/pages/order/detail.vue?a24f","webpack:///D:/project/fuintUniapp/pages/order/detail.vue?a799","uni-app:///pages/order/detail.vue","webpack:///D:/project/fuintUniapp/pages/order/detail.vue?2585","webpack:///D:/project/fuintUniapp/pages/order/detail.vue?bb11","webpack:///D:/project/fuintUniapp/pages/order/detail.vue?e128","webpack:///D:/project/fuintUniapp/pages/order/detail.vue?24ba"],"names":["wx","__webpack_require_UNI_MP_PLUGIN__","__webpack_require__","createPage","Page","components","Shortcut","data","DeliveryStatusEnum","DeliveryTypeEnum","OrderStatusEnum","PayStatusEnum","PayTypeEnum","ReceiptStatusEnum","orderId","isLoading","order","setting","showPayPopup","reflash","onLoad","onShow","methods","getOrderDetail","app","OrderApi","then","handleCopy","uni","success","handleTargetGoods","goodsId","handleApplyRefund","handleRefundDetail","refundId","onCancel","title","content","onPay","onReceipt","onSelectPayType","catch","onSubmitCallback","setTimeout","finally"],"mappings":";;;;;;;;;;;;;AAAA;AAGA;AACA;AAHA;AACAA,EAAE,CAACC,iCAAiC,GAAGC,mBAAmB;AAG1DC,UAAU,CAACC,eAAI,CAAC,C;;;;;;;;;;;;;ACLhB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAA+H;AAC/H;AAC0D;AACL;AACa;AACyB;;;AAG3F;AACmK;AACnK,gBAAgB,6KAAU;AAC1B,EAAE,4EAAM;AACR,EAAE,6FAAM;AACR,EAAE,sGAAe;AACjB;AACA;AACA;AACA;AACA;AACA,EAAE,iGAAU;AACZ;AACA;;AAEA;AACe,gF;;;;;;;;;;;;ACxBf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;;;;;;;;;;;;;ACAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA,aAAa,6MAEN;AACP,KAAK;AACL;AACA,CAAC;AACD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,MAAM;AACN;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;;AC5EA;AAAA;AAAA;AAAA;AAAmmB,CAAgB,gnBAAG,EAAC,C;;;;;;;;;;;;;;;;;;;ACgQvnB;AAQA;AACA;AAAA;AAAA;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;eAGA;EACAC;IACAC;EACA;EACAC;IACA;MACA;MACAC;MACAC;MACAC;MACAC;MACAC;MACAC;MACA;MACAC;MACA;MACAC;MACA;MACAC;MACA;MACAC;MACA;MACAC;MACA;MACAC;IACA;EACA;EAEA;AACA;AACA;EACAC;IAAA;IACA;IACA;EACA;EAEA;AACA;AACA;EACAC;IACA;IACA;EACA;EAEAC;IAEA;IACAC;MACA;MACAC;MACAC,6BACAC;QACAF;QACAA;QACAA;MACA;IACA;IAEA;IACAG;MACA;MACAC;QACArB;QACAsB;UACAL;QACA;MACA;IACA;IAEA;IACAM;MACA;QACA;UAAAC;QAAA;MACA;IACA;IAEA;IACAC;MACA;QAAAlB;MAAA;IACA;IAEA;IACAmB;MACA;QAAAC;MAAA;IACA;IAEA;IACAC;MACA;MACAP;QACAQ;QACAC;QACAR;UACA;YACAJ,6BACAC;cACA;cACAF;cACA;cACAA;YACA;UACA;QACA;MACA;IACA;IAEA;IACAc;MACA;MACA;IACA;IAEA;IACAC;MACA;MACAX;QACAQ;QACAC;QACAR;UACA;YACAJ,0BACAC;cACA;cACAF;cACA;cACAA;YACA;UACA;QACA;MACA;IACA;IAEA;IACAgB;MACA;MACA;MACA;MACA;MACAf,mCACAC;QAAA;MAAA,GACAe;QAAA;MAAA;IACA;IAEA;IACAC;MACA;MACA;QACA;UACAlB;QACA;UACAA;QACA;QACA;MACA;;MAEA;MACA;QACA,yCACAE;UACAF;UACAmB;YACAnB;UACA;QACA,GACAiB;UACAjB;QACA,GACAoB;UACApB;QACA;MACA;MACA;MACA;QACA;UACAA;UACAA;UACAmB;YACA;YACAnB;UACA;QACA;UACAA;QACA;MACA;IACA;EACA;AACA;AAAA,2B;;;;;;;;;;;;;ACtcA;AAAA;AAAA;AAAA;AAAs3B,CAAgB,q2BAAG,EAAC,C;;;;;;;;;;;ACA14B;AACA,OAAO,KAAU,EAAE,kBAKd;;;;;;;;;;;;;ACNL;AAAA;AAAA;AAAA;AAAsqC,CAAgB,unCAAG,EAAC,C;;;;;;;;;;;ACA1rC;AACA,OAAO,KAAU,EAAE,kBAKd","file":"pages/order/detail.js","sourcesContent":["import 'uni-pages';\n// @ts-ignore\nwx.__webpack_require_UNI_MP_PLUGIN__ = __webpack_require__;\nimport Vue from 'vue'\nimport Page from './pages/order/detail.vue'\ncreatePage(Page)","import { render, staticRenderFns, recyclableRender, components } from \"./detail.vue?vue&type=template&id=57d42baa&scoped=true&\"\nvar renderjs\nimport script from \"./detail.vue?vue&type=script&lang=js&\"\nexport * from \"./detail.vue?vue&type=script&lang=js&\"\nimport style0 from \"./detail.vue?vue&type=style&index=0&lang=css&\"\nimport style1 from \"./detail.vue?vue&type=style&index=1&id=57d42baa&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"57d42baa\",\n  null,\n  false,\n  components,\n  renderjs\n)\n\ncomponent.options.__file = \"pages/order/detail.vue\"\nexport default component.exports","export * from \"-!../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--17-0!../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/template.js!../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-uni-app-loader/page-meta.js!../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./detail.vue?vue&type=template&id=57d42baa&scoped=true&\"","var components\ntry {\n  components = {\n    uPopup: function () {\n      return import(\n        /* webpackChunkName: \"uview-ui/components/u-popup/u-popup\" */ \"@/uview-ui/components/u-popup/u-popup.vue\"\n      )\n    },\n  }\n} catch (e) {\n  if (\n    e.message.indexOf(\"Cannot find module\") !== -1 &&\n    e.message.indexOf(\".vue\") !== -1\n  ) {\n    console.error(e.message)\n    console.error(\"1. 排查组件名称拼写是否正确\")\n    console.error(\n      \"2. 排查组件是否符合 easycom 规范，文档：https://uniapp.dcloud.net.cn/collocation/pages?id=easycom\"\n    )\n    console.error(\n      \"3. 若组件不符合 easycom 规范，需手动引入，并在 components 中注册该组件\"\n    )\n  } else {\n    throw e\n  }\n}\nvar render = function () {\n  var _vm = this\n  var _h = _vm.$createElement\n  var _c = _vm._self._c || _h\n  var g0 = !_vm.isLoading\n    ? _vm.order.orderMode == \"oneself\" &&\n      _vm.order.type == \"goods\" &&\n      _vm.order.verifyCode &&\n      _vm.order.payStatus == \"B\" &&\n      ![\"C\", \"H\", \"G\"].includes(_vm.order.status)\n    : null\n  var g1 = !_vm.isLoading ? _vm.order.goods.length : null\n  var g2 = !_vm.isLoading ? _vm.order.amount.toFixed(2) : null\n  var g3 =\n    !_vm.isLoading && _vm.order.discount > 0\n      ? _vm.order.discount.toFixed(2)\n      : null\n  var g4 =\n    !_vm.isLoading && _vm.order.deliveryFee > 0\n      ? _vm.order.deliveryFee.toFixed(2)\n      : null\n  var g5 =\n    !_vm.isLoading && _vm.order.pointAmount > 0\n      ? _vm.order.pointAmount.toFixed(2)\n      : null\n  var g6 = !_vm.isLoading\n    ? _vm.PayTypeEnum.getNameByValue(_vm.order.payType)\n    : null\n  var g7 =\n    !_vm.isLoading && _vm.order.payAmount\n      ? _vm.order.payAmount.toFixed(2)\n      : null\n  _vm.$mp.data = Object.assign(\n    {},\n    {\n      $root: {\n        g0: g0,\n        g1: g1,\n        g2: g2,\n        g3: g3,\n        g4: g4,\n        g5: g5,\n        g6: g6,\n        g7: g7,\n      },\n    }\n  )\n}\nvar recyclableRender = false\nvar staticRenderFns = []\nrender._withStripped = true\n\nexport { render, staticRenderFns, recyclableRender, components }","import mod from \"-!../../../../HBuilderX/plugins/uniapp-cli/node_modules/babel-loader/lib/index.js!../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--13-1!../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./detail.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../HBuilderX/plugins/uniapp-cli/node_modules/babel-loader/lib/index.js!../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--13-1!../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./detail.vue?vue&type=script&lang=js&\"","<template>\n  <view v-if=\"!isLoading\" class=\"container\">\n\n    <view class=\"header\">\n      <!-- 订单状态 -->\n      <view class=\"order-status\">\n        <view class=\"status-icon\">\n          <!-- 进行中的订单 -->\n          <block>\n              <!-- 待支付 -->\n              <block>\n                 <image v-if=\"order.status == OrderStatusEnum.CREATED.value\" class=\"image\" src=\"/static/order/status/wait_pay.png\" mode=\"aspectFit\"></image>\n              </block>\n              <!-- 已支付 -->\n              <block>\n                <image v-if=\"order.status == OrderStatusEnum.PAID.value\" class=\"image\" src=\"/static/order/status/received.png\" mode=\"aspectFit\"></image>\n              </block>\n              <!-- 待发货 -->\n              <block>\n                <image v-if=\"order.status == OrderStatusEnum.DELIVERY.value\" class=\"image\" src=\"/static/order/status/wait_deliver.png\" mode=\"aspectFit\"></image>\n              </block>\n              <!-- 已发货 -->\n              <block>\n                <image v-if=\"order.status == OrderStatusEnum.DELIVERED.value\" class=\"image\" src=\"/static/order/status/wait_receipt.png\" mode=\"aspectFit\"></image>\n              </block>\n              <!-- 已收货-->\n              <block>\n                <image v-if=\"order.status == OrderStatusEnum.RECEIVED.value || order.status == OrderStatusEnum.COMPLETE.value\" class=\"image\" src=\"/static/order/status/received.png\" mode=\"aspectFit\"></image>\n              </block>\n              <!-- 已取消-->\n              <block>\n                <image v-if=\"order.status == OrderStatusEnum.CANCEL.value || order.status == OrderStatusEnum.REFUND.value\" class=\"image\" src=\"/static/order/status/close.png\" mode=\"aspectFit\"></image>\n              </block>\n            </block>\n        </view>\n        <view class=\"status-text\">\n          <text v-if=\"order.status == OrderStatusEnum.CREATED.value\">{{OrderStatusEnum.CREATED.name}}</text>\n          <text v-else-if=\"order.status == OrderStatusEnum.PAID.value\">{{OrderStatusEnum.PAID.name}}</text>\n          <text v-else-if=\"order.status == OrderStatusEnum.DELIVERY.value\">{{OrderStatusEnum.DELIVERY.name}}</text>\n          <text v-else-if=\"order.status == OrderStatusEnum.DELIVERED.value\">{{OrderStatusEnum.DELIVERED.name}}</text>\n          <text v-else-if=\"order.status == OrderStatusEnum.RECEIVED.value\">{{OrderStatusEnum.RECEIVED.name}}</text>\n          <text v-else-if=\"order.status == OrderStatusEnum.CANCEL.value\">{{OrderStatusEnum.CANCEL.name}}</text>\r\n          <text v-else-if=\"order.status == OrderStatusEnum.REFUND.value\">{{OrderStatusEnum.REFUND.name}}</text>\r\n          <text v-else-if=\"order.status == OrderStatusEnum.COMPLETE.value\">{{OrderStatusEnum.COMPLETE.name}}</text>\n        </view>\n        <view class=\"verify-code\" v-if=\"order.orderMode == 'oneself' && order.type == 'goods' && order.verifyCode && order.payStatus == 'B' && ( !['C', 'H', 'G'].includes(order.status))\">\n            <view>提取码：</view>\n            <view class=\"code\">{{ order.verifyCode }}</view>\n        </view>\n      </view>\n    </view>\n    \n    <!--订单类型-->\n    <view class=\"order-type\">\n        <text class=\"type\">{{ order.typeName }}</text>\n    </view>\n\n    <!-- 快递配送：配送地址 -->\n    <view v-if=\"order.address\" class=\"delivery-address i-card\">\n      <view class=\"link-man\">\n        <text class=\"name\">{{ order.address.name }}</text>\n        <text class=\"phone\">{{ order.address.mobile }}</text>\n      </view>\n      <view class=\"address\">\n        <text class=\"region\">{{ order.address.provinceName }}{{ order.address.cityName }}{{ order.address.regionName }}</text>\n        <text class=\"detail\">{{ order.address.detail }}</text>\n      </view>\n    </view>\n    \n    <!-- 门店自提：自提地址 -->\n    <view v-if=\"order.orderMode == 'oneself'\" class=\"delivery-address i-card\">\n      <view class=\"link-man\">\n        <text class=\"type\">[门店自提]</text>\n      </view>\n      <view class=\"link-man\">\n        <text class=\"name\">{{ order.storeInfo.name }}</text>\n        <text class=\"phone\">{{ order.storeInfo.phone }}</text>\n      </view>\n      <view class=\"address\">\n        <text class=\"region\">{{ order.storeInfo.address }}</text>\n      </view>\n    </view>\n\n    <!-- 商品列表 -->\n    <view class=\"goods-list i-card\" v-if=\"order.goods.length > 0\">\n      <view class=\"goods-item\" v-for=\"(goods, idx) in order.goods\" :key=\"idx\">\n        <view class=\"goods-main\" v-if=\"goods.num > 0\" @click=\"handleTargetGoods(goods.goodsId, goods.type)\">\n          <!-- 商品图片 -->\n          <view class=\"goods-image\">\n            <image class=\"image\" :src=\"goods.image\" mode=\"widthFix\"></image>\n          </view>\n          <!-- 商品信息 -->\n          <view class=\"goods-content\">\n            <view class=\"goods-title twolist-hidden\"><text>{{goods.name}}</text></view>\n            <view class=\"goods-props clearfix\">\n              <view class=\"goods-props-item\" v-for=\"(props, idx) in goods.specList\" :key=\"idx\">\n                <text>{{ props.specValue }}</text>\n              </view>\n            </view>\n          </view>\n          <!-- 交易信息 -->\n          <view class=\"goods-trade\">\n            <view class=\"goods-price\">\n              <text class=\"unit\">￥</text>\n              <text class=\"value\">{{ goods.price }}</text>\n            </view>\n            <view class=\"goods-num\">\n              <text>×{{goods.num}}</text>\n            </view>\n          </view>\n        </view>\n      </view>\n    </view>\n\n    <!-- 订单信息 -->\n    <view class=\"order-info i-card\">\n      <view class=\"info-item\">\n        <view class=\"item-lable\">订单编号</view>\n        <view class=\"item-content\">\n          <text>{{order.orderSn}}</text>\n          <view class=\"act-copy\" @click=\"handleCopy(order.orderSn)\">\n            <text>复制</text>\n          </view>\n        </view>\n      </view>\n      <view class=\"info-item\">\n        <view class=\"item-lable\">下单时间</view>\n        <view class=\"item-content\">\n          <text>{{order.createTime}}</text>\n        </view>\n      </view>\r\n      <view class=\"info-item\">\r\n        <view class=\"item-lable\">支付时间</view>\r\n        <view class=\"item-content\">\r\n          <text>{{order.payTime ? order.payTime : '--'}}</text>\r\n        </view>\r\n      </view>\n      <view class=\"info-item\">\n        <view class=\"item-lable\">备注信息</view>\n        <view class=\"item-content\">\n          <text>{{order.remark ? order.remark : '--'}}</text>\n        </view>\n      </view>\n    </view>\n\n    <!-- 结算信息 -->\n    <view class=\"trade-info i-card\">\n      <view class=\"info-item\">\n        <view class=\"item-lable\">订单金额</view>\n        <view class=\"item-content\">\n          <text>￥{{(order.amount.toFixed(2))}}</text>\n        </view>\n      </view>\r\n      <view v-if=\"order.discount > 0\" class=\"info-item\">\r\n        <view class=\"item-lable\">优惠金额</view>\r\n        <view class=\"item-content\">\r\n          <text>-￥{{ order.discount.toFixed(2) }}</text>\r\n        </view>\r\n      </view>\n      <view v-if=\"order.deliveryFee > 0\" class=\"info-item\">\n        <view class=\"item-lable\">配送费用</view>\n        <view class=\"item-content\">\n          <text>+￥{{ order.deliveryFee.toFixed(2) }}</text>\n        </view>\n      </view>\n      <view v-if=\"order.pointAmount > 0\" class=\"info-item\">\n        <view class=\"item-lable\">积分抵扣</view>\n        <view class=\"item-content\">\n          <text>-￥{{ order.pointAmount.toFixed(2) }}</text>\n        </view>\n      </view>\r\n      <view class=\"info-item\">\r\n        <view class=\"item-lable\">支付方式</view>\r\n        <view class=\"item-content\">\r\n          <text>{{ PayTypeEnum.getNameByValue(order.payType) }}</text>\r\n        </view>\r\n      </view>\n      <view class=\"divider\"></view>\n      <view class=\"trade-total\">\n        <text class=\"lable\">实付款</text>\n        <view class=\"goods-price\">\n          <text class=\"unit\">￥</text>\n          <text class=\"value\">{{order.payAmount ? order.payAmount.toFixed(2) : '0.00'}}</text>\n        </view>\n      </view>\n    </view>\n\n    <!-- 底部操作按钮 -->\n    <view class=\"footer-fixed\" v-if=\"order.status == OrderStatusEnum.CREATED.value\">\n      <view class=\"btn-wrapper\">\n        <block>\n          <view class=\"btn-item\" @click=\"onCancel(order.id)\">取消订单</view>\n        </block>\n        <block>\n          <view class=\"btn-item active\" @click=\"onPay(order.id)\">去支付</view>\n        </block>\n      </view>\n    </view>\n    \n    <!-- 已支付的订单 -->\n    <view class=\"footer-fixed\" v-if=\"(order.payStatus == OrderStatusEnum.PAID.value)\">\n      <view class=\"btn-wrapper\">\n        <block v-if=\"!order.refundInfo\">\n          <view class=\"btn-item active\" @click=\"handleApplyRefund(order.id)\">申请售后</view>\n        </block>\r\n        <block v-if=\"order.refundInfo\">\r\n          <view class=\"btn-item common\" @click=\"handleRefundDetail(order.refundInfo.id)\">售后详情</view>\r\n        </block>\n      </view>\n    </view>\n    \n    <view class=\"footer-fixed\" v-if=\"order.status == OrderStatusEnum.DELIVERED.value\">\n      <view class=\"btn-wrapper\">\n        <block>\n          <view class=\"btn-item active\" @click=\"onReceipt(order.id)\">确认收货</view>\n        </block>\n      </view>\n    </view>\n\n    <!-- 支付方式弹窗 -->\n    <u-popup v-model=\"showPayPopup\" mode=\"bottom\" :closeable=\"true\">\n      <view class=\"pay-popup\">\n        <view class=\"title\">请选择支付方式</view>\n        <view class=\"pop-content\">\n          <!-- 微信支付 -->\n          <view class=\"pay-item dis-flex flex-x-between\" @click=\"onSelectPayType(PayTypeEnum.WECHAT.value)\">\n            <view class=\"item-left dis-flex flex-y-center\">\n              <view class=\"item-left_icon wechat\">\n                <text class=\"iconfont icon-weixinzhifu\"></text>\n              </view>\n              <view class=\"item-left_text\">\n                <text>{{ PayTypeEnum.WECHAT.name }}</text>\n              </view>\n            </view>\n          </view>\n          <!-- 余额支付 -->\n          <view v-if=\"order.type != 'recharge' && order.type != 'prestore'\" class=\"pay-item dis-flex flex-x-between\" @click=\"onSelectPayType(PayTypeEnum.BALANCE.value)\">\n            <view class=\"item-left dis-flex flex-y-center\">\n              <view class=\"item-left_icon balance\">\n                <text class=\"iconfont icon-qiandai\"></text>\n              </view>\n              <view class=\"item-left_text\">\n                <text>{{ PayTypeEnum.BALANCE.name }}</text>\n              </view>\n            </view>\n          </view>\n        </view>\n      </view>\n    </u-popup>\n    \n    <!-- 快捷导航 -->\n    <shortcut/>\n  </view>\n</template>\n\n<script>\n  import {\n    DeliveryStatusEnum,\n    DeliveryTypeEnum,\n    OrderStatusEnum,\n    PayStatusEnum,\n    PayTypeEnum,\n    ReceiptStatusEnum\n  } from '@/common/enum/order'\n  import * as OrderApi from '@/api/order'\n  import { wxPayment } from '@/utils/app'\n  import Shortcut from '@/components/shortcut'\n\n  export default {\n    components: {\n       Shortcut\n    },\n    data() {\n      return {\n        // 枚举类\n        DeliveryStatusEnum,\n        DeliveryTypeEnum,\n        OrderStatusEnum,\n        PayStatusEnum,\n        PayTypeEnum,\n        ReceiptStatusEnum,\n        // 当前订单ID\n        orderId: null,\n        // 加载中\n        isLoading: true,\n        // 当前订单详情\n        order: {},\n        // 当前设置\n        setting: {},\n        // 支付方式弹窗\n        showPayPopup: false,\r\n        // 刷新页面\r\n        reflash: false\n      }\n    },\n\n    /**\n     * 生命周期函数--监听页面加载\n     */\n    onLoad({ orderId }) {\n      // 当前订单ID\n      this.orderId = orderId;\n    },\n\n    /**\n     * 生命周期函数--监听页面显示\n     */\n    onShow() {\n      // 获取当前订单信息\n      this.getOrderDetail();\n    },\n\n    methods: {\n\n      // 获取当前订单信息\n      getOrderDetail() {\n        const app = this\n        app.isLoading = true\n        OrderApi.detail(app.orderId)\n          .then(result => {\n            app.order = result.data\n            app.setting = result.data\n            app.isLoading = false\n          })\n      },\n\n      // 复制指定内容\n      handleCopy(value) {\n        const app = this\n        uni.setClipboardData({\n          data: value,\n          success() {\n            app.$toast('复制成功')\n          }\n        })\n      },\n\n      // 跳转到商品详情页面\n      handleTargetGoods(goodsId, type) {\r\n        if (goodsId && parseInt(goodsId) > 0) {\n            this.$navTo('pages/goods/detail', { goodsId })\r\n        }\n      },\n\n      // 跳转到申请售后页面\n      handleApplyRefund(orderId) {\n        this.$navTo('pages/refund/apply', { orderId })\n      },\r\n      \r\n      // 售后详情\r\n      handleRefundDetail(refundId) {\r\n        this.$navTo('pages/refund/detail', { refundId })\r\n      },\n\n      // 取消订单\n      onCancel() {\n        const app = this\n        uni.showModal({\n          title: '友情提示',\n          content: '确认要取消该订单吗？',\n          success(o) {\n            if (o.confirm) {\n              OrderApi.cancel(app.orderId)\n                .then(result => {\n                  // 显示成功信息\n                  app.$success(result.message);\n                  // 刷新当前订单数据\n                  app.getOrderDetail();\n                })\n            }\n          }\n        });\n      },\n\n      // 点击去支付\n      onPay() {\n        // 显示支付方式弹窗\n        this.showPayPopup = true;\n      },\n      \n      // 确认收货\n      onReceipt(orderId) {\n          const app = this\n          uni.showModal({\n            title: '友情提示',\n            content: '确认收到商品了吗？',\n            success(o) {\n              if (o.confirm) {\n                OrderApi.receipt(orderId)\n                  .then(result => {\n                    // 显示成功信息\n                    app.$success(result.message)\n                    // 刷新当前订单数据\n                    app.getOrderDetail()\n                  })\n              }\n            }\n          });\n       },\n\n      // 选择支付方式\n      onSelectPayType(payType) {\n        const app = this\n        // 隐藏支付方式弹窗\n        this.showPayPopup = false\n        // 发起支付请求\n        OrderApi.pay(app.orderId, payType)\n          .then(result => app.onSubmitCallback(result))\n          .catch(err => err)\n      },\n\n      // 订单提交成功后回调\n      onSubmitCallback(result) {\n        const app = this;\n        if (!result.data) {\n            if (result.message) {\n                app.$error(result.message);\n            } else {\n                app.$error('支付失败');\n            }\n            return false;\n        }\n        \n        // 发起微信支付\n        if (result.data.payType == PayTypeEnum.WECHAT.value) {\n            wxPayment(result.data.payment)\n              .then(() => {\n                app.$success('支付成功');\n                setTimeout(() => {\n                   app.getOrderDetail();\n                }, 1500)\n              })\n              .catch(err => {\n                 app.$error('订单未支付');\n              })\n              .finally(() => {\n                 app.disabled = false;\n              })\n         }\n         // 余额支付\n         if (result.data.payType == PayTypeEnum.BALANCE.value) {\n            if (result.data.orderInfo.payStatus == 'B') {\n                app.$success('支付成功');\n                app.disabled = false;\n                setTimeout(() => {\n                    // 刷新当前订单数据\n                    app.getOrderDetail();\n                }, 1500)\n            } else {\n                app.$error('支付失败');\n            }\n         }\n      }\n    }\n  }\n</script>\n\n<style>\n  page {\n    background: #f4f4f4;\n  }\n</style>\n<style lang=\"scss\" scoped>\n  .container {\n    padding-bottom: 140rpx;\n  }\n\n  // 页面顶部\n  .header {\n    display: flex;\n    justify-content: space-between;\n    background-color: $fuint-theme;\n    height: 280rpx;\n    padding: 56rpx 30rpx 0 30rpx;\n\n    .order-status {\n      display: flex;\n      align-items: center;\n      height: 128rpx;\n      .status-icon {\n        width: 128rpx;\n        height: 128rpx;\n        .image {\n          display: block;\n          width: 100%;\n          height: 100%;\n        }\n      }\n      .status-text {\n        padding-left: 20rpx;\n        color: #fff;\n        font-size: 38rpx;\n        font-weight: bold;\n      }\n      .verify-code {\n          color: #ffffff;\n          margin-left: 60rpx;\n          font-size: 30rpx;\n          .code {\n              font-size: 50rpx;\n              color: #ffd700;\n              font-weight: bold;\n          }\n      }\n    }\n\n    .next-action {\n      display: flex;\n      align-items: center;\n      height: 128rpx;\n\n      .action-btn {\n        min-width: 150rpx;\n        height: 60rpx;\n        padding: 0 30rpx;\n        line-height: 60rpx;\n        text-align: center;\n        border-radius: 30rpx;\n        border-color: #ffffff;\n        color: #ffffff;\n        background: linear-gradient(to right, #f9211c, #ff6335);\n        cursor: pointer;\n        user-select: none;\n      }\n    }\n  }\n\n  // 通栏卡片\n  .i-card {\n    background: #fff;\n    padding: 24rpx 24rpx;\n    width: 94%;\n    box-shadow: 0 1rpx 5rpx 0px rgba(0, 0, 0, 0.05);\n    margin: 0 auto 20rpx auto;\n    border-radius: 20rpx;\n  }\n  \n  // 订单类型\n  .order-type {\n    font-weight: bold;\n    margin: 25rpx;\n  }\n\n  // 收货地址\n  .delivery-address {\n    margin-top: 20rpx;\n\n    .link-man {\n      line-height: 46rpx;\n      color: #333;\n      .type {\n        margin-right: 10rpx;\n        font-weight: bold;\n      }\n      .name {\n        margin-right: 10rpx;\n        color: #999;\n      }\n      .phone {\n        margin-right: 10rpx;\n        color: #999;\n      }\n    }\n\n    .address {\n      margin-top: 12rpx;\n      color: #999;\n      font-size: 24rpx;\n\n      .detail {\n        margin-left: 6rpx;\n      }\n    }\n\n  }\n\n  // 物流公司\n  .express {\n    display: flex;\n    align-items: center;\n\n    .main {\n      flex: 1;\n    }\n\n    .info-item {\n      display: flex;\n      margin-bottom: 24rpx;\n\n      &:last-child {\n        margin-bottom: 0;\n      }\n\n      .item-lable {\n        display: flex;\n        align-items: center;\n        font-size: 24rpx;\n        color: #999;\n        margin-right: 30rpx;\n      }\n\n      .item-content {\n        flex: 1;\n        display: flex;\n        align-items: center;\n        font-size: 26rpx;\n        color: #333;\n\n        .act-copy {\n          margin-left: 20rpx;\n          padding: 2rpx 20rpx;\n          font-size: 22rpx;\n          color: #666;\n          border: 1rpx solid #c1c1c1;\n          border-radius: 16rpx;\n        }\n      }\n    }\n    // 右侧箭头\n    .right-arrow {\n      margin-left: 16rpx;\n      // color: #777;\n      font-size: 26rpx;\n    }\n  }\n\n  // 商品列表\n  .goods-list {\n    // 商品项\n    .goods-item {\n      margin-bottom: 40rpx;\n\n      &:last-child {\n        margin-bottom: 0;\n      }\n\n      // 商品信息\n      .goods-main {\n        display: flex;\n      }\n\n      // 商品图片\n      .goods-image {\n        width: 180rpx;\n        height: 180rpx;\n\n        .image {\n          display: block;\n          width: 100%;\n          height: 100%;\n          border-radius: 8rpx;\n        }\n      }\n\n      // 商品内容\n      .goods-content {\n        flex: 1;\n        padding-left: 16rpx;\n        padding-top: 16rpx;\n\n        .goods-title {\n          font-size: 26rpx;\n          max-height: 76rpx;\n        }\n\n        .goods-props {\n          margin-top: 14rpx;\n          height: 40rpx;\n          color: #ababab;\n          font-size: 24rpx;\n          overflow: hidden;\n\n          .goods-props-item {\n            display: inline-block;\n            margin-right: 14rpx;\n            padding: 4rpx 16rpx;\n            border-radius: 12rpx;\n            background-color: #F5F5F5;\n            width: auto;\n          }\n        }\n      }\n\n      // 交易信息\n      .goods-trade {\n        padding-top: 16rpx;\n        width: 150rpx;\n        text-align: right;\n        color: $uni-text-color-grey;\n        font-size: 26rpx;\n\n        .goods-price {\n          vertical-align: bottom;\n          margin-bottom: 16rpx;\n\n          .unit {\n            margin-right: -2rpx;\n            font-size: 24rpx;\n          }\n        }\n      }\n\n      // 商品售后\n      .goods-refund {\n        display: flex;\n        justify-content: flex-end;\n\n        .stata-text {\n          font-size: 24rpx;\n          color: #999;\n        }\n\n        .action-btn {\n          border-radius: 28rpx;\n          padding: 8rpx 26rpx;\n          font-size: 24rpx;\n          color: #383838;\n          border: 1rpx solid #a8a8a8;\n        }\n      }\n    }\n  }\n\n  // 订单信息\n  .order-info {\n    .info-item {\n      display: flex;\n      margin-bottom: 24rpx;\n\n      &:last-child {\n        margin-bottom: 0;\n      }\n\n      .item-lable {\n        display: flex;\n        align-items: center;\n        font-size: 24rpx;\n        color: #999;\n        margin-right: 30rpx;\n      }\n\n      .item-content {\n        flex: 1;\n        display: flex;\n        align-items: center;\n        font-size: 26rpx;\n        color: #333;\n\n        .act-copy {\n          margin-left: 20rpx;\n          padding: 2rpx 20rpx;\n          font-size: 22rpx;\n          color: #666;\n          border: 1rpx solid #c1c1c1;\n          border-radius: 16rpx;\n        }\n      }\n    }\n  }\n\n  // 交易信息\n  .trade-info {\n    margin-bottom: 80rpx;\n    .info-item {\n      display: flex;\n      margin-bottom: 24rpx;\n\n      .item-lable {\n        font-size: 24rpx;\n        color: #999;\n        margin-right: 24rpx;\n      }\n\n      .item-content {\n        flex: 1;\n        font-size: 26rpx;\n        color: #333;\n        text-align: right;\n      }\n    }\n\n    .divider {\n      height: 1rpx;\n      background: #f1f1f1;\n      margin-bottom: 24rpx;\n    }\n\n    .trade-total {\n      display: flex;\n      justify-content: flex-end;\n\n      .goods-price {\n        margin-left: 12rpx;\n        vertical-align: bottom;\n        color: $uni-text-color-active;\n\n        .unit {\n          margin-right: -2rpx;\n          font-size: 24rpx;\n        }\n      }\n    }\n  }\n\n  /* 底部操作栏 */\n  .footer-fixed {\n    position: fixed;\n    bottom: var(--window-bottom);\n    left: 0;\n    right: 0;\n    height: 180rpx;\r\n    padding-bottom: 30rpx;\n    z-index: 11;\n    box-shadow: 0 -4rpx 40rpx 0 rgba(97, 97, 97, 0.1);\n    background: #fff;\n\n    .btn-wrapper {\n      height: 100%;\n      display: flex;\n      align-items: center;\n      justify-content: flex-end;\n      padding: 0 30rpx;\n    }\n\n    .btn-item {\n      min-width: 164rpx;\n      border-radius: 8rpx;\n      padding: 20rpx 24rpx;\n      font-size: 28rpx;\n      color: #383838;\n      text-align: center;\n      border: 1rpx solid #a8a8a8;\n      margin-left: 10rpx;\r\n      &.common {\r\n          color: #fff;\r\n          border: none;\r\n          background: linear-gradient(to right, $fuint-theme, $fuint-theme);\r\n      }\n\n      &.active {\n        color: #fff;\n        border: none;\n        background: linear-gradient(to right, #f9211c, #ff6335);\n      }\n    }\n  }\n\n  // 弹出层-支付方式\n  .pay-popup {\n    padding: 25rpx 25rpx 70rpx 25rpx;\n    .title {\n      font-size: 30rpx;\n      margin-bottom: 50rpx;\n      font-weight: bold;\n      text-align: center;\n    }\n\n    .pop-content {\n      min-height: 120rpx;\n      padding: 0 20rpx;\n\n      .pay-item {\n        padding: 30rpx;\n        font-size: 30rpx;\n        background: #fff;\n        border: 1rpx solid $fuint-theme;\n        border-radius: 8rpx;\n        color: #888;\n        margin-bottom: 12rpx;\n        text-align: center;\n\n        .item-left_icon {\n          margin-right: 20rpx;\n          font-size: 48rpx;\n\n          &.wechat {\n            color: #00c800;\n          }\n\n          &.balance {\n            color: $fuint-theme;\n          }\n        }\n      }\n    }\n  }\n</style>\n","import mod from \"-!../../../../HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../../HBuilderX/plugins/uniapp-cli/node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/stylePostLoader.js!../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--6-oneOf-1-2!../../../../HBuilderX/plugins/uniapp-cli/node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-3!../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./detail.vue?vue&type=style&index=0&lang=css&\"; export default mod; export * from \"-!../../../../HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../../HBuilderX/plugins/uniapp-cli/node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/stylePostLoader.js!../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--6-oneOf-1-2!../../../../HBuilderX/plugins/uniapp-cli/node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-3!../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./detail.vue?vue&type=style&index=0&lang=css&\"","// extracted by mini-css-extract-plugin\n    if(module.hot) {\n      // 1758976366880\n      var cssReload = require(\"D:/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/hmr/hotModuleReplacement.js\")(module.id, {\"hmr\":true,\"publicPath\":\"/\",\"locals\":false});\n      module.hot.dispose(cssReload);\n      module.hot.accept(undefined, cssReload);\n    }\n  ","import mod from \"-!../../../../HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../../HBuilderX/plugins/uniapp-cli/node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/stylePostLoader.js!../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--8-oneOf-1-2!../../../../HBuilderX/plugins/uniapp-cli/node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-3!../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/sass-loader/dist/cjs.js??ref--8-oneOf-1-4!../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--8-oneOf-1-5!../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./detail.vue?vue&type=style&index=1&id=57d42baa&lang=scss&scoped=true&\"; export default mod; export * from \"-!../../../../HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../../HBuilderX/plugins/uniapp-cli/node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/stylePostLoader.js!../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--8-oneOf-1-2!../../../../HBuilderX/plugins/uniapp-cli/node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-3!../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/sass-loader/dist/cjs.js??ref--8-oneOf-1-4!../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--8-oneOf-1-5!../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./detail.vue?vue&type=style&index=1&id=57d42baa&lang=scss&scoped=true&\"","// extracted by mini-css-extract-plugin\n    if(module.hot) {\n      // 1758976369244\n      var cssReload = require(\"D:/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/hmr/hotModuleReplacement.js\")(module.id, {\"hmr\":true,\"publicPath\":\"/\",\"locals\":false});\n      module.hot.dispose(cssReload);\n      module.hot.accept(undefined, cssReload);\n    }\n  "],"sourceRoot":""}