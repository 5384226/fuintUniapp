{"version":3,"sources":["uni-app:///main.js","webpack:///D:/项目/fuintUniapp/pages/index/index.vue?52ef","webpack:///D:/项目/fuintUniapp/pages/index/index.vue?fb8f","webpack:///D:/项目/fuintUniapp/pages/index/index.vue?9809","webpack:///D:/项目/fuintUniapp/pages/index/index.vue?0381","uni-app:///pages/index/index.vue"],"names":["wx","__webpack_require_UNI_MP_PLUGIN__","__webpack_require__","createPage","Page","mixins","components","Location","Search","Banner","NavBar","Blank","Goods","Empty","data","options","banner","storeInfo","isReflash","isLoading","onLoad","storeId","uni","onShow","app","type","success","fail","methods","getPageData","Api","then","finally","onPullDownRefresh","onGetStoreInfo","settingApi","onShareAppMessage","title","path","onShareTimeline"],"mappings":";;;;;;;;;;;;;AAAA;AAGA;AACA;AAHA;AACAA,EAAE,CAACC,iCAAiC,GAAGC,mBAAmB;AAG1DC,UAAU,CAACC,cAAI,CAAC,C;;;;;;;;;;;;;ACLhB;AAAA;AAAA;AAAA;AAAA;AAAkH;AAClH;AACyD;AACL;;;AAGpD;AAC0M;AAC1M,gBAAgB,yMAAU;AAC1B,EAAE,2EAAM;AACR,EAAE,gFAAM;AACR,EAAE,yFAAe;AACjB;AACA;AACA;AACA;AACA;AACA,EAAE,oFAAU;AACZ;AACA;;AAEA;AACe,gF;;;;;;;;;;;;ACtBf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;;;;;;;;;;;;;ACAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA,6BAA6B;AAC7B;AACA,MAAM;AACN;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;;ACjBA;AAAA;AAAA;AAAA;AAAwxB,CAAgB,2vBAAG,EAAC,C;;;;;;;;;;;;;;;;;;;;AC4B5yB;AAQA;AACA;AACA;AACA;AAAA;AAAA;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAEA;AAAA,eAEA;EACAC;EACAC;IACAC;IACAC;IACAC;IACAC;IACAC;IACAC;IACAC;EACA;EACAC;IACA;MACAC;QACA;UACA;UACA;QACA;QACA;UACA;UACA;UACA;UACA;UACA;UACA;QACA;UACA;UACA;UACA;UACA;UACA;UACA;QACA;UACA;UACA;UACA;UACA;UACA;UACA;QACA;UACA;UACA;UACA;UACA;UACA;UACA;QAAA;QACA;UACA;UACA;UACA;UACA;QACA;QACA;UACA;UACA;YACA;YACA;YACA;UACA;QACA;QACA;UACA;UACA;UACA;QAEA;QACA;UACA;QACA;QACA;UACA;UACA;QACA;MACA;MACAC;MACAC;MACAC;MACAC;IACA;EACA;EAEA;AACA;AACA;EACAC;IAAA;IACAC;IACA;MACAC;MACAA;IACA;MACA;IACA;EACA;EAEA;AACA;AACA;EACAC;IACA;IACA;IACA;IACAC;IACAF;MACAG;MACAC;QACAJ;QACAA;QACAE;MACA;MACAG;QACA;MAAA;IAEA;EACA;EAEAC;IAEA;AACA;AACA;AACA;IACAC;MACA;MACAC,WACAC;QACAP;QACAF;QACAE;MACA,GACAQ;QAAA;MAAA;IACA;IAEA;AACA;AACA;IACAC;MACA;MACA;QACAX;MACA;IACA;IAEA;AACA;AACA;IACAY;MACA;MACAC,0BACAJ;QACAP;QACA;UACAF;UACAA;UACA;UACA;UACAE;UACA;YACAA;UACA;QACA;MACA;IACA;EACA;EAEA;AACA;AACA;EACAY;IACA;IACA;MACAC;MACAC;IACA;EACA;EAEA;AACA;AACA;AACA;AACA;EACAC;IACA;IACA;IACA;MACAF;MACAC;IACA;EACA;AAEA;AAAA,2B","file":"pages/index/index.js","sourcesContent":["import 'uni-pages';\n// @ts-ignore\nwx.__webpack_require_UNI_MP_PLUGIN__ = __webpack_require__;\nimport Vue from 'vue'\nimport Page from './pages/index/index.vue'\ncreatePage(Page)","import { render, staticRenderFns, recyclableRender, components } from \"./index.vue?vue&type=template&id=57280228&\"\nvar renderjs\nimport script from \"./index.vue?vue&type=script&lang=js&\"\nexport * from \"./index.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!E:\\\\我的文档\\\\下载\\\\HBuilderX.4.76.2025082103\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\runtime\\\\componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null,\n  false,\n  components,\n  renderjs\n)\n\ncomponent.options.__file = \"pages/index/index.vue\"\nexport default component.exports","export * from \"-!E:\\\\我的文档\\\\下载\\\\HBuilderX.4.76.2025082103\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\loaders\\\\templateLoader.js??vue-loader-options!E:\\\\我的文档\\\\下载\\\\HBuilderX.4.76.2025082103\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--17-0!E:\\\\我的文档\\\\下载\\\\HBuilderX.4.76.2025082103\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\template.js!E:\\\\我的文档\\\\下载\\\\HBuilderX.4.76.2025082103\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-uni-app-loader\\\\page-meta.js!E:\\\\我的文档\\\\下载\\\\HBuilderX.4.76.2025082103\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!E:\\\\我的文档\\\\下载\\\\HBuilderX.4.76.2025082103\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./index.vue?vue&type=template&id=57280228&\"","var components\nvar render = function () {\n  var _vm = this\n  var _h = _vm.$createElement\n  var _c = _vm._self._c || _h\n  var a0 = _vm.storeInfo ? {} : null\n  _vm.$mp.data = Object.assign(\n    {},\n    {\n      $root: {\n        a0: a0,\n      },\n    }\n  )\n}\nvar recyclableRender = false\nvar staticRenderFns = []\nrender._withStripped = true\n\nexport { render, staticRenderFns, recyclableRender, components }","import mod from \"-!E:\\\\我的文档\\\\下载\\\\HBuilderX.4.76.2025082103\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\babel-loader\\\\lib\\\\index.js!E:\\\\我的文档\\\\下载\\\\HBuilderX.4.76.2025082103\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--13-1!E:\\\\我的文档\\\\下载\\\\HBuilderX.4.76.2025082103\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\script.js!E:\\\\我的文档\\\\下载\\\\HBuilderX.4.76.2025082103\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!E:\\\\我的文档\\\\下载\\\\HBuilderX.4.76.2025082103\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./index.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!E:\\\\我的文档\\\\下载\\\\HBuilderX.4.76.2025082103\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\babel-loader\\\\lib\\\\index.js!E:\\\\我的文档\\\\下载\\\\HBuilderX.4.76.2025082103\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--13-1!E:\\\\我的文档\\\\下载\\\\HBuilderX.4.76.2025082103\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\script.js!E:\\\\我的文档\\\\下载\\\\HBuilderX.4.76.2025082103\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!E:\\\\我的文档\\\\下载\\\\HBuilderX.4.76.2025082103\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./index.vue?vue&type=script&lang=js&\"","<template>\n  <view class=\"container\">\r\n      <empty v-if=\"!storeInfo\" :isLoading=\"isLoading\" tips=\"数据加载中...\"></empty>\n      <block>\n          <Location v-if=\"storeInfo\" :storeInfo=\"storeInfo\"/>\n      </block>\n      <block>\n          <Search v-if=\"storeInfo\" tips=\"请输入搜索关键字...\" @event=\"$navTo('pages/search/index')\"/>\n      </block>\n      <block>\n          <Banner v-if=\"storeInfo\" :itemStyle=\"options.bannerStyle\" :params=\"options.bannerParam\" :dataList=\"banner\"/>\n      </block>\n      <block>\n          <Blank v-if=\"storeInfo\" :itemStyle=\"options.blankStyle\"/>\n      </block>\n      <block>\n          <NavBar v-if=\"storeInfo\" :itemStyle=\"options.navStyle\" :params=\"{}\" :dataList=\"options.navBar\"/>\n      </block>\n      <block>\n          <Blank v-if=\"storeInfo\" :itemStyle=\"options.blankStyle\"/>\n      </block>\n      <block>\n          <Goods v-if=\"storeInfo\" :itemStyle=\"options.goodsStyle\" :isReflash=\"isReflash\" ref=\"mescrollItem\" :params=\"options.goodsParams\"/>\n      </block>\n  </view>\n</template>\n\n<script>\n  import { setCartTabBadge, showMessage } from '@/utils/app'\n  import Location from '@/components/page/location'\n  import Search from '@/components/search'\n  import Banner from '@/components/page/banner'\n  import NavBar from '@/components/page/navBar'\n  import Blank from '@/components/page/blank'\n  import Goods from '@/components/page/goods'\r\n  import Empty from '@/components/empty'\n  import * as settingApi from '@/api/setting'\n  import * as Api from '@/api/page'\r\n  import MescrollCompMixin from \"@/components/mescroll-uni/mixins/mescroll-comp.js\";\r\n  import config from '@/config'\n\n  const App = getApp()\n  \n  export default {\r\n    mixins: [MescrollCompMixin],\n    components: {\n       Location,\n       Search,\n       Banner,\n       NavBar,\n       Blank,\n       Goods,\r\n       Empty\n    },\n    data() {\n      return {\n        options: {\n            \"blankStyle\": {\n                \"height\": \"5\",\n                \"background\": \"#ffffff\",\n            },\n            \"navBar\": [{\n                        \"imgUrl\": \"/static/nav/1.png\",\n                        \"imgName\": \"icon-1.png\",\n                        \"linkUrl\": \"pages\\/pay\\/index\",\n                        \"text\": \"买单支付\",\n                        \"tip\": \"支付攒积分\",\n                        \"color\": \"#666666\"\n                    }, {\n                        \"imgUrl\": \"/static/nav/3.png\",\n                        \"imgName\": \"icon-1.png\",\n                        \"linkUrl\": \"pages\\/coupon\\/list?type=C\",\n                        \"text\": \"领券中心\",\n                        \"tip\": \"积分换好礼\",\n                        \"color\": \"#666666\"\n                    }, {\n                        \"imgUrl\": \"/static/nav/2.png\",\n                        \"imgName\": \"icon-1.png\",\n                        \"linkUrl\": \"pages\\/coupon\\/list?type=P\",\n                        \"text\": \"预存充值\",\n                        \"tip\": \"充值有优惠\",\n                        \"color\": \"#666666\",\n                    }, {\n                        \"imgUrl\": \"/static/nav/4.png\",\n                        \"imgName\": \"icon-1.png\",\n                        \"linkUrl\": \"pages\\/share\\/index\",\n                        \"text\": \"邀请有礼\",\n                        \"tip\": \"邀请获取奖励\",\n                        \"color\": \"#666666\"}],\n            \"goodsStyle\": {\n                \"background\": \"#F6F6F6\",\n                \"display\": \"list\",\n                \"column\": 2,\n                \"show\": [\"goodsName\", \"goodsPrice\", \"linePrice\", \"sellingPoint\", \"goodsSales\"]\n            },\n            \"goodsParams\": {\n                \"source\": \"auto\",\n                \"auto\": {\n                    \"category\": 0,\n                    \"goodsSort\": \"all\",\n                    \"showNum\": 40\n                }\n            },\n            \"bannerStyle\": {\n                \"btnColor\": \"#ffffff\",\n                \"btnShape\": \"round\",\r\n                \"interval\": 2.5,\r\n                \n            },\n            \"bannerParam\": {\n                \"interval\": 2000\n            },\n            \"navStyle\": {\n                \"background\": \"#ffffff\",\n                \"rowsNum\": \"2\",\n            }\n        },\n        banner: [],\n        storeInfo: null,\r\n        isReflash: false,\r\n        isLoading: false\n      }\n    },\n\n    /**\n     * 生命周期函数--监听页面加载\n     */\n    onLoad({ storeId }) {\r\n      storeId = storeId ? parseInt(storeId) : 0;\r\n      if (storeId > 0) {\r\n          uni.setStorageSync('storeId', storeId);\r\n          uni.setStorageSync(\"reflashHomeData\", true);\r\n      } else {\r\n          this.getPageData();\r\n      }\n    },\n\n    /**\n     * 生命周期函数--监听页面显示\n     */\n    onShow() {\n      const app = this;\n      showMessage();\r\n      setCartTabBadge();\r\n      app.onGetStoreInfo();\n      uni.getLocation({\n          type: 'gcj02',\n          success(res){\n              uni.setStorageSync('latitude', res.latitude);\n              uni.setStorageSync('longitude', res.longitude);\n              app.onGetStoreInfo();\n          },\n          fail(e) {\n             // empty\n          }\n      })\n    },\n\n    methods: {\r\n        \n        /**\n         * 加载页面数据\n         * @param {Object} callback\n         */\n        getPageData(callback) {\n          const app = this;\n          Api.home()\n            .then(result => {\n                 app.banner = result.data.banner;\r\n                 uni.removeStorageSync(\"reflashHomeData\");\r\n                 app.isReflash = false;\n            })\n            .finally(() => callback && callback())\n        },\n        \n        /**\n         * 下拉刷新\n         */\n        onPullDownRefresh() {\n          // 获取数据\n          this.getPageData(() => {\n             uni.stopPullDownRefresh()\n          })\n        },\n        \n        /**\n         * 获取默认店铺\n         * */\n         onGetStoreInfo() {\n            const app = this;\n            settingApi.systemConfig()\n             .then(result => {\n                 app.storeInfo = result.data.storeInfo;\n                 if (app.storeInfo) {\n                     uni.setStorageSync(\"storeId\", app.storeInfo.id);\r\n                     uni.setStorageSync(\"merchantNo\", app.storeInfo.merchantNo);\r\n                     // 判断是否需要更新页面\r\n                     let isReflash = uni.getStorageSync(\"reflashHomeData\");\r\n                     app.isReflash = isReflash;\r\n                     if (isReflash === true) {\r\n                         app.getPageData();\r\n                     }\n                 }\n             })\n         }\n    },\n\n    /**\n     * 分享当前页面\n     */\n    onShareAppMessage() {\n      const app = this\n      return {\n         title: config.name,\n         path: \"/pages/index/index?\" + app.$getShareUrlParams()\n      }\n    },\n\n    /**\n     * 分享到朋友圈\n     * 本接口为 Beta 版本，暂只在 Android 平台支持，详见分享到朋友圈 (Beta)\n     * https://developers.weixin.qq.com/miniprogram/dev/framework/open-ability/share-timeline.html\n     */\n    onShareTimeline() {\n      const app = this\n      const { page } = app\n      return {\n        title: config.name,\n        path: \"/pages/index/index?\" + app.$getShareUrlParams()\n      }\n    }\n\n  }\n</script>\n"],"sourceRoot":""}